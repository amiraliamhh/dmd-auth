"use strict";

var _express = _interopRequireDefault(require("express"));

var _mongoose = _interopRequireDefault(require("mongoose"));

var _bodyParser = _interopRequireDefault(require("body-parser"));

var _cors = _interopRequireDefault(require("cors"));

require("@babel/polyfill");

var _user = require("./route/user");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require('./passport/index');

var app = (0, _express.default)();

_mongoose.default.connect('mongodb://127.0.0.1:27017/auth', {
  useNewUrlParser: true
}, function (err) {
  if (err) {
    console.error(err);
  } else {
    console.log('Successfully connected to database.');
  }
});

app.use(_bodyParser.default.json());
app.use(_bodyParser.default.urlencoded({
  extended: true
}));
app.use((0, _cors.default)());
app.use('/api/v1.0/', _user.router);
app.listen(process.env.PORT || 4000, function (err) {
  if (err) {
    console.error(err);
  } else {
    console.log("Listening on port ".concat(process.env.PORT || 4000));
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiYXBwIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJVc2VyUm91dGVyIiwibGlzdGVuIiwicHJvY2VzcyIsImVudiIsIlBPUlQiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7Ozs7QUFFQUEsT0FBTyxDQUFDLGtCQUFELENBQVA7O0FBRUEsSUFBTUMsR0FBRyxHQUFHLHVCQUFaOztBQUNBQyxrQkFBU0MsT0FBVCxDQUFpQixnQ0FBakIsRUFBbUQ7QUFBRUMsRUFBQUEsZUFBZSxFQUFFO0FBQW5CLENBQW5ELEVBQTZFLFVBQUNDLEdBQUQsRUFBZ0I7QUFDM0YsTUFBSUEsR0FBSixFQUFTO0FBQ1BDLElBQUFBLE9BQU8sQ0FBQ0MsS0FBUixDQUFjRixHQUFkO0FBQ0QsR0FGRCxNQUVPO0FBQ0xDLElBQUFBLE9BQU8sQ0FBQ0UsR0FBUixDQUFZLHFDQUFaO0FBQ0Q7QUFDRixDQU5EOztBQVFBUCxHQUFHLENBQUNRLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBVixHQUFHLENBQUNRLEdBQUosQ0FBUUMsb0JBQVdFLFVBQVgsQ0FBc0I7QUFBQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQVgsQ0FBdEIsQ0FBUjtBQUNBWixHQUFHLENBQUNRLEdBQUosQ0FBUSxvQkFBUjtBQUNBUixHQUFHLENBQUNRLEdBQUosQ0FBUSxZQUFSLEVBQXNCSyxZQUF0QjtBQUVBYixHQUFHLENBQUNjLE1BQUosQ0FBV0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBL0IsRUFBcUMsVUFBQ2IsR0FBRCxFQUFnQjtBQUNuRCxNQUFJQSxHQUFKLEVBQVM7QUFDUEMsSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQWQ7QUFDRCxHQUZELE1BRU87QUFDTEMsSUFBQUEsT0FBTyxDQUFDRSxHQUFSLDZCQUFpQ1EsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBckQ7QUFDRDtBQUNGLENBTkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcblxuaW1wb3J0IHsgcm91dGVyIGFzIFVzZXJSb3V0ZXIgfSBmcm9tICcuL3JvdXRlL3VzZXInO1xuXG5yZXF1aXJlKCcuL3Bhc3Nwb3J0L2luZGV4JylcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xubW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9hdXRoJywgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUgfSwoZXJyOiBFcnJvcikgPT4ge1xuICBpZiAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIGRhdGFiYXNlLicpO1xuICB9XG59KVxuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoJy9hcGkvdjEuMC8nLCBVc2VyUm91dGVyKTtcblxuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUIHx8IDQwMDAsIChlcnI6IEVycm9yKSA9PiB7XG4gIGlmIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBwb3J0ICR7cHJvY2Vzcy5lbnYuUE9SVCB8fCA0MDAwfWApXG4gIH1cbn0pIl19